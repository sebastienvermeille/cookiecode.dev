<!DOCTYPE html>

<html lang="en-US">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linux - Add windows 11 entry in Grub the secure way - CookieCode</title>
    <meta name="author"  content="svermeille">
    <meta name="description" content="Linux - Add windows 11 entry in Grub the secure way">
    <meta name="keywords"  content="linux, grub, windows">
    <!-- Open Graph -->
    <meta property="og:title" content="Linux - Add windows 11 entry in Grub the secure way - CookieCode">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://cookiecode.dev/linux/linux-add-windows-11-entry-in-grub-the-secure-way.html">
    <meta property="og:baseurl" content="">
    <meta property="og:description" content="In this blog I share with you some answers to problems I faced during my life of developer. Also some nice tools I like to use, configurations and so on.">
    <meta property="og:site_name" content="CookieCode">
    <meta property="og:gray" content="false">
    
    <meta property="og:previous_url" content="/tools/how-to-remove-the-fork-link-from-your-forked-github-projects.html">
    
    
    <meta property="og:next_url" content="/i3/linux-reset-audio-volume-with-command-line.html">
    
    <meta property="post-date-format" content="0">
    
    <meta property="post-date" content="2023-07-09 00:00:00 +0000" />
    
    
    
    <meta name="theme-color" content="#81BBFF" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="apple-touch-icon" href="/assets/img/touch/apple-touch-icon.png"/>
    <link rel="Shortcut Icon" href="/favicon.ico">
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="bookmark" href="/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css" />
    <link rel="stylesheet" href="/assets/css/plugins.min.css" />
    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prism-themes@1.9.0/themes/prism-one-light.min.css" />
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.28.0/plugins/line-numbers/prism-line-numbers.min.css">
    
    <link rel="stylesheet" href="/assets/css/app.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@waline/client/dist/waline.css" />
    <script src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
</head>



<body class="line-numbers" ontouchstart="">


  <!--[if lt IE 10]>
  <div class="alert-danger" role="alert">Man, your browser is older than internet, please use a decent one :)ÔºÅ<a target="_blank" class="alert-link" href="http://browsehappy.com">Browsehappy</a></div>
  <![endif]-->
  
  <div id="all" class="post">
  
    <div class="alert-tip" id="no-previous">
      Already the latest article!
    </div>
    <div class="alert-tip" id="no-next">
      Already the last article!
    </div>
    <input id="nm-switch" type="hidden" value="true"> <header class="g-header">
    <div class="g-logo">
      <a href="/" aria-label="logo"></a>
    </div>
    <!-- <i id="menu-toggle" class="iconfont icon-menu"></i> -->
    <div id="mode-toggle">
        <svg class="icon icon-day" aria-hidden="true">
            <use xlink:href="#icon-day"></use>
        </svg>
        <svg class="icon icon-night" aria-hidden="true">
            <use xlink:href="#icon-night"></use>
        </svg>
    </div>
    <svg id="menu-toggle" class="icon-menu" aria-hidden="true">
        <use xlink:href="#icon-menu"></use>
    </svg>
    <nav class="g-nav">
        <ul>
            
                
                <li>
                    <a href="/blog/index.html" aria-label="home">
                        home
                    </a>
                </li>
                
            
                
                <li>
                    <a href="/oss/index.html" aria-label="projects">
                        projects
                    </a>
                </li>
                
            
                
                <li>
                    <a href="/" aria-label="about me">
                        about me
                    </a>
                </li>
                
            
            <li class="mode">
                <svg class="icon day" aria-hidden="true">
                    <use xlink:href="#icon-day"></use>
                </svg>
                <svg class="icon night" aria-hidden="true">
                    <use xlink:href="#icon-night"></use>
                </svg>
            </li>
        </ul>
    </nav>
</header>


    <header
      class="g-banner post-header post-pattern-circuitBoard bgcolor-default "
      data-theme="default"
    >
      <div class="post-wrapper">
        <div class="post-tags">
          
            
              <a href="/tags.html#linux" class="post-tag">linux</a>
            
              <a href="/tags.html#grub" class="post-tag">grub</a>
            
              <a href="/tags.html#windows" class="post-tag">windows</a>
            
          
        </div>
        <h1>Linux - Add windows 11 entry in Grub the secure way</h1>
        <div class="post-meta">
          <span class="post-meta-item">
            <svg class="icon" aria-hidden="true">
              <use xlink:href="#icon-user"></use>
            </svg>
            sbeex
          </span>
          <time class="post-meta-item" datetime="23-07-09">
            <svg class="icon" aria-hidden="true">
              <use xlink:href="#icon-calendar"></use>
            </svg>
            <span class="create-at"></span>
          </time>
          <time class="post-meta-item" datetime="23-07-09">
            <svg class="icon" aria-hidden="true">
              <use xlink:href="#icon-update"></use>
            </svg>
            <span class="update-at"></span>
          </time>
          
            <span class="post-meta-item">
              <svg class="icon words" aria-hidden="true">
                <use xlink:href="#icon-words"></use>
              </svg>
              There are 2219 words totally 
            </span>
            <span class="post-meta-item">
              <svg class="icon time" aria-hidden="true">
                <use xlink:href="#icon-time"></use>
              </svg>
              It may needs 7 minutes
            </span>
            
              <span class="post-meta-item">
                <svg class="icon pv" aria-hidden="true">
                  <use xlink:href="#icon-pv"></use>
                </svg>
                Total pageviews <span id="busuanzi_value_page_pv"></span>
              </span>
            
          
          
        </div>
      </div>
      
      <div class="filter"></div>
        <div class="post-cover" style="background: url('/assets/img/articles/windows11-with-grub.png') center no-repeat; background-size: cover;"></div>
      
    </header>
    <div class="post-content visible">
      

      
      <div class="container">  
        <div class="contents">
          <article class="markdown-body">
            <h2 id="introduction">Introduction</h2>

<p>You have a linux machine runing grub ? you installed windows 11 but it is not displayed in the Grub menu at boot?</p>

<p>If you are like me in a situation where you have to systematically press F12 in the boot menu of the bios to select which ‚Äúdrive‚Äù you want to use to select your OS :) then this article is for you!</p>

<h2 id="how">How</h2>

<h3 id="1-boot-on-your-linux-installation-as-usual-start-a-terminal-and-run-sudo-os-prober-install-it-if-necessary">1) Boot on your linux installation as usual, start a terminal and run: <code class="language-plaintext highlighter-rouge">sudo os-prober</code> (Install it if necessary)</h3>

<p>The output will be something simiar to this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>‚ûú  ~ sudo os-prober
/dev/nvme0n1p1@/efi/Microsoft/Boot/bootmgfw.efi:Windows Boot Manager:Windows:efi
</code></pre></div></div>

<h3 id="2-retrieve-the-uuid-of-the-efi-partition">2) Retrieve the UUID of the EFI partition</h3>

<p><code class="language-plaintext highlighter-rouge">sudo blkid /dev/nvme0n1p1</code> (Replace nvme0n1p1 with the correct partition you retrieved at step 1)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo blkid /dev/nvme0n1p1
/dev/nvme0n1p1: UUID="1212-1FF1" BLOCK_SIZE="512" TYPE="vfat" PARTLABEL="EFI system partition" PARTUUID="ffffff00-07ff-4bff-9bff-fcffffff13c3"
</code></pre></div></div>

<p>UUID=‚Äù1212-1FF1‚Äù</p>

<h3 id="3-customize-grub-the-correct-way">3) Customize grub the correct way</h3>

<p>To customize grub the proper way we will simply declare custom configuration. That‚Äôs great because that‚Äôs exactly what <code class="language-plaintext highlighter-rouge">/etc/grub.d/40_custom</code> is for :)</p>

<p><code class="language-plaintext highlighter-rouge">sudo nano /etc/grub.d/40_custom</code></p>

<p>And then at the end of the file we will add the new entry:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>menuentry 'Windows 11' {
  search --fs-uuid --set=root &lt;UUID&gt;
  chainloader (${root})/EFI/Microsoft/Boot/bootmgfw.efi
}
</code></pre></div></div>

<p>Replace <uuid> with the value you retrieved at step 2.</uuid></p>

<p>Save the changes in the file</p>

<h3 id="4-remove-write-permissions">4) Remove write permissions</h3>

<p><code class="language-plaintext highlighter-rouge">sudo chmod o-w /etc/grub.d/40_custom</code></p>

<h3 id="5-regenerate-grubcfg-including-your-overrided-changes">5) Regenerate grub.cfg including your overrided changes</h3>

<p><code class="language-plaintext highlighter-rouge">sudo update-grub</code>  if you have it on your distrib, otherwise the full command:</p>

<p><code class="language-plaintext highlighter-rouge">sudo grub-mkconfig -o /boot/grub/grub.cfg</code></p>

<h3 id="6-optional-check-the-generated-file">6) (Optional) Check the generated file</h3>

<p>you can see if your changes are now included if you run <code class="language-plaintext highlighter-rouge">sudo cat /boot/grub/grub.cfg | grep "Windows 11"</code></p>

<h3 id="7-reboot">7) Reboot</h3>

<p>reboot and see if it work :)</p>

<h2 id="why-doing-it-this-way-">Why doing it this way ?</h2>
<p>Some answers propose to enable os-prober (disabled by default). It would automatically add entries for detected systems (convenient). But disabled for security reasons by default (up to you) https://forum.manjaro.org/t/grub2-secure-boot-bypass-and-other-issues-update-highly-recommended/57280</p>

<p>Some answers propose to edit directly the <code class="language-plaintext highlighter-rouge">/boot/grub/grub.cfg</code> file, but take care, this file is generated by commands by the system. So basically if you go put your fingers there‚Ä¶ you take the risk to have your custom changes being overrided.</p>

<p>There is a simple way to customize grub via custom file extra for that purpose let‚Äôs use it :) <code class="language-plaintext highlighter-rouge">/etc/grub.d/40_custom</code></p>

<h2 id="references">References</h2>
<ul>
  <li>https://bbs.archlinux.org/viewtopic.php?pid=2006988#p2006988</li>
  <li>https://askubuntu.com/a/1425651</li>
</ul>

            <div class="post-copyright">
              <p><span>AuthorÔºö</span>svermeille for <a href="https://cookiecode.dev">CookieCode</a></p>
              <p>Ôºà<a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" class="extlinks">CC BY-NC-SA 4.0</a> licenseÔºâ</p>
              <p><span>titleÔºö</span>„Ää Linux - Add windows 11 entry in Grub the secure way „Äã</p>
              <p><span>permalinkÔºö</span><a href="https://cookiecode.dev/linux/linux-add-windows-11-entry-in-grub-the-secure-way.html">https://cookiecode.dev/linux/linux-add-windows-11-entry-in-grub-the-secure-way.html</a></p>
            </div>
          </article>
        </div>   
        <div class="table-of-contents">
          <h2>Contents</h2>
          <ul><li><a href="#introduction">Introduction</a></li><li><a href="#how">How</a><ul><li><a href="#1-boot-on-your-linux-installation-as-usual-start-a-terminal-and-run-sudo-os-prober-install-it-if-necessary">1) Boot on your linux installation as usual, start a terminal and run: <code class="language-plaintext highlighter-rouge">sudo os-prober</code> (Install it if necessary)</a></li><li><a href="#2-retrieve-the-uuid-of-the-efi-partition">2) Retrieve the UUID of the EFI partition</a></li><li><a href="#3-customize-grub-the-correct-way">3) Customize grub the correct way</a></li><li><a href="#4-remove-write-permissions">4) Remove write permissions</a></li><li><a href="#5-regenerate-grubcfg-including-your-overrided-changes">5) Regenerate grub.cfg including your overrided changes</a></li><li><a href="#6-optional-check-the-generated-file">6) (Optional) Check the generated file</a></li><li><a href="#7-reboot">7) Reboot</a></li></ul></li><li><a href="#why-doing-it-this-way-">Why doing it this way ?</a></li><li><a href="#references">References</a></li></ul>
        </div>
      </div>
      

      
    </div>

    <section class="author-detail">
      <section class="post-footer-item author-card">
        <div class="avatar">
          <img src="/assets/img/profile.png" alt="Profile picture">
        </div>
        <div class="author-name" rel="author">svermeille</div>
        <div class="bio">
          <p>Developer Advocate, enthusiast attracted by Clean Code concepts and keeping code enjoyable to work with :)</p>
        </div>
        
        <ul class="sns-links">
          
          <li>
            <a href="https://github.com/sebastienvermeille" target="_blank" aria-label="github">
              <svg class="icon" aria-hidden="true">
                <use xlink:href="#icon-github"></use>
              </svg>
            </a>
          </li>
          
        </ul>
        
      </section>
      <section class="post-footer-item read-next">
        
        <div class="read-next-item">
          <a href="/tools/how-to-remove-the-fork-link-from-your-forked-github-projects.html" class="read-next-link" aria-label="[How to] Remove the fork link from a forked GitHub repository"></a>
          <section>
            <span>[How to] Remove the fork link from a forked GitHub repository</span>
            <p>Introduction</p>
          </section>
          
          <div class="filter"></div>
          <img src="/assets/img/articles/github-remove-fork-link.png" alt="Next article cover">
          
      </div>
        

        
        <div class="read-next-item">
          <a href="/i3/linux-reset-audio-volume-with-command-line.html" class="read-next-link" aria-label="linux reset audio volume with command line"></a>
            <section>
              <span>linux reset audio volume with command line</span>
              <p>IntroductionSometimes the sound is boosted too much and s...</p>
            </section>
            
            <div class="filter"></div>
            <img src="/assets/img/articles/reset-audio-volume-linux.png" alt="Previous article cover">
            
        </div>
        
      </section>
      
      <section class="post-footer-item comment">
        <div class="comments-headline">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-comment"></use>
          </svg>
          <span>Comments</span>
        </div>
        
      </section>      
      
   
      
      <section class="post-footer-item comment">
          <div id="disqus_thread"></div>
      </section>
      

      
    </section>

    <footer class="g-footer">
  <section>CookieCode ¬©
  
  
    2022
    -
  
  2023 (v2.0.0) 
  </section>
  <section> 
  </section>
  
  <section>
    <span id="busuanzi_container_site_pv">
      üëÅÔ∏è Total Views <span id="busuanzi_value_site_pv"></span> <b>¬∑</b>
    </span>
    <span id="busuanzi_container_site_uv">
      üë§ Total Visitors <span id="busuanzi_value_site_uv"></span>
    </span>
    <span>
      <a href="/tos.html">ToS</a>
    </span>
  </section>
  
</footer>
<div class="cookie-tip">
  In order to improve the experience and guarantee necessary functions of the website, it will use the local Cookie. More details in <a href="/tos.html">ToS</a> page.
  <button id="accept-tos">Accept</button>
</div>
<button id="list" aria-label="Scroll back to top" class="mobile-list" type="button">
  <svg class="icon list day" aria-hidden="true">
    <use xlink:href="#icon-list-day"></use>
  </svg>
  <svg class="icon list night" aria-hidden="true">
    <use xlink:href="#icon-list-night"></use>
  </svg>
  <svg class="icon exit day" aria-hidden="true">
    <use xlink:href="#icon-exit-day"></use>
  </svg>
  <svg class="icon exit night" aria-hidden="true">
    <use xlink:href="#icon-exit-night"></use>
  </svg>
</button>
<button id="bttb" aria-label="Scroll back to top" class="bttb" type="button">
  <svg class="icon up day" aria-hidden="true">
    <use xlink:href="#icon-up-day"></use>
  </svg>
  <svg class="icon up night" aria-hidden="true">
    <use xlink:href="#icon-up-night"></use>
  </svg>
</button>


    
    <div class="modal">
        <div class="modal-content">
          <header>
            <span class="close">&times;</span>
          </header>
          <div class="container"></div>
        </div>
    </div>
    
  </div>

  <script src="/assets/js/social-share.min.js"></script>
  <script>
    socialShare('.social-share', {
      sites: [
        
          'wechat'
          ,
          
        
          'weibo'
          ,
          
        
          'douban'
          ,
          
        
          'twitter'
          
        
      ],
      wechatQrcodeTitle: "ÂàÜ‰∫´Âà∞ÂæÆ‰ø°ÊúãÂèãÂúà",
      wechatQrcodeHelper: '<p>Êâ´Á†ÅÂêéÁÇπÂáªÂè≥‰∏äËßí</p><p>Â∞ÜÊú¨ÊñáÂàÜ‰∫´Ëá≥ÊúãÂèãÂúà</p>'
    });
    $("a.social-share-icon").each(function() {
      $(this).attr("aria-label", $(this).attr("class").split(' ')[1])
    });
  </script>

  
  <script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://cookiecode-dev.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();

  </script>
  

  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
  <script src="/assets/js/index.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/hotkeys-js/dist/hotkeys.min.js"></script>
  
  <script src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js" async></script>
  <script src="https://cdn.jsdelivr.net/npm/dayjs@1.11.2/dayjs.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dayjs@1.11.2/plugin/customParseFormat.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dayjs@1.11.2/plugin/relativeTime.js"></script>
  <script>
      // ÁªôÂõæÁâáÊ∑ªÂä†ÈìæÊé•
      $(document).ready(function() {
          var baseurl = $("meta[property='og:baseurl']").attr('content');
          $("p img").each(function() {
              $(this).attr('data-src', $(this).attr('src')).removeAttr('src').addClass("lazyload").attr('src', baseurl + '/assets/img/loading.gif');
              var strA = "<a data-fancybox='gallery' ref='gallery' href='" + $(this).attr('data-src') + "' data-caption='" + $(this).attr('alt') + "'></a>";
              $(this).wrapAll(strA);
              var caption = $(this)[0].alt;
              $(this).parent().after('<span class="caption">' + caption + '</span>');
          });

          Fancybox.bind('[data-fancybox]', {
            on: {
              load: (fancybox, slide) => {
                var gray = $("meta[property='og:gray']").attr('content');
                if(gray == "true"){
                    $(".fancybox__content img").addClass("gray");
                    $(".carousel__track .fancybox__thumb").addClass("gray");
                }
              }
            }
          });   
          
          

          if($("#comments-switch").length > 0){
            var comment_status = $("#cmn-toggle-4")[0].checked;
            if(comment_status){
              $("#waline").addClass("active");
            }else {
              $("#disqus_thread").addClass("active");
            }
            $("#cmn-toggle-4").click(function(){
              $("#disqus_thread").toggleClass("active");
              $("#waline").toggleClass("active");
            })
          }else {
            if($("#disqus_thread").length > 0) {
              $("#disqus_thread").addClass("active");
            }else if($("#waline").length > 0) {
              $("#waline").addClass("active");
            }
          }

          var time_formats = ['YYYY-MM-DD HH:mm:ss ZZ', 'YYYY DD MMM HH:mm:ss ZZ', 'YYYYÂπ¥MMÊúàDDÊó• HH:mm:ss ZZ'];
          function dateFormat(date, format){
            var date_org = dayjs(date, time_formats[format]);
            var date     = date_org.format(time_formats[format]);
            return {"date_org": date_org, "date": date}
          }

          dayjs.extend(window.dayjs_plugin_customParseFormat);
          dayjs.extend(window.dayjs_plugin_relativeTime);
          var post_date = $("meta[property='post-date']").attr('content');
          var post_date_format = $("meta[property='post-date-format']").attr('content');
          var local_post_date = dateFormat(post_date, post_date_format);

          $(".post time span.create-at").html(local_post_date["date"]);

          fetch("https://api.github.com/repos/svermeille/cookiecode.dev/commits?path=_posts/2023-07-09-linux-add-windows-11-entry-in-grub-the-secure-way.md")
          .then((response) => {
            return response.json();
          })
          .then((commits) => {
            if(commits.length != 0){
              var update_at = dayjs(commits[0]['commit']['committer']['date']);
            }else {
              var update_at = post_date
            }

            var local_update_at = dateFormat(update_at, post_date_format);
            $('.post time span.update-at').html(local_update_at["date"]);

            var relative_time = dayjs().diff(local_update_at["date_org"], 'day');
            if(relative_time > 365){
              $(".post-copyright").append("<p class='tips'>Êú¨ÊñáÊúÄÂêé‰∏ÄÊ¨°Êõ¥Êñ∞‰∏∫ <span>" + relative_time + "</span> Â§©ÂâçÔºåÊñáÁ´†‰∏≠ÁöÑÊüê‰∫õÂÜÖÂÆπÂèØËÉΩÂ∑≤ËøáÊó∂ÔºÅ</p>");
            }
          });   
          
          /*
          * Keyboard shortcut bind: left and right
          */

          var previous_url = $("meta[property='og:previous_url']").attr('content');
          var next_url = $("meta[property='og:next_url']").attr('content');

          hotkeys('left', function(event, handler){
              // Prevent the default refresh event under WINDOWS system
              event.preventDefault();
              if(previous_url){
                  console.log('you pressed left!');
                  window.location.href = previous_url;
              }else {
                  $("#no-previous").addClass("active");
                  console.log('Already the latest articleÔºÅ');
                  setTimeout(function(){$("#no-previous").removeClass("active");}, 1500);
              }
          });

          hotkeys('right', function(event, handler){
              // Prevent the default refresh event under WINDOWS system
              event.preventDefault();
              if(next_url){
                  console.log('you pressed right!');
                  window.location.href = next_url;
              }else {
                  $("#no-next").addClass("active");
                  console.log('Already the last articleÔºÅ');
                  setTimeout(function(){$("#no-next").removeClass("active");}, 1500);
              }
          });
      });
  </script>
  <script src="https://at.alicdn.com/t/font_3046306_skfh9jzzbbf.js"></script>
  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-91985102-2"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-91985102-2');
</script>

  
  
<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  <script>
    if ("serviceWorker" in navigator) {
        if (navigator.serviceWorker.controller) {
            console.log("An active service worker found, no need to register");
        } else {
            // Register the service worker
            navigator.serviceWorker
            .register("/sw.js", {
                scope: "/"
            })
            .then(function (reg) {
                console.log("Service worker has been registered for scope: " + reg.scope);
            });
        }
    }
</script>
  <!--
Author: Ray-Eldath
refer to:
 - http://docs.mathjax.org/en/latest/options/index.html
-->

	<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
		jax: ["input/TeX", "output/HTML-CSS"],
		tex2jax: {
			inlineMath: [ ["$", "$"] ],
			displayMath: [ ["$$", "$$"] ],
			skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
		},
		"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
      });
    </script>

   
    <script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.6/dist/mermaid.min.js"></script>
    <script>
        $(document).ready(function (){
            mermaid.initialize({
                startOnLoad:true,
                theme: "default",
            });
            mermaid.init(undefined, $('.mermaid2'));
        });
    </script>
 
</body>

</html>
